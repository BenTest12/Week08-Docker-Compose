# Use postgres/example user/password credentials
version: '3.1'

services:
  web:
      build: .
      command: npm run dev
      volumes:
        - .:/usr/app/
        - /usr/app/node_modules
      ports:
        - "3000:3000"
      depends_on:
        - postgres
      environment:
        DATABASE_URL: postgres://todoapp@postgres/todos

  db:
    image: postgres
    restart: always
    environment:
      POSTGRES_PASSWORD: example